{{ define "main" }}

{{/* Intro section */}}

<div class="single-subsummary">
    {{ if .Site.Params.homePicture }}
    {{ with .Site.Params.homePicture }}
    <img src="{{ . }}" alt="Profile picture" style="
        width:150px;
        height:150px;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        -ms-border-radius: 50%;
        -o-border-radius: 50%;
        border-radius: 50%;
        margin-top: -52.8px;
    ">
    </img>
    <div>
        {{end}}
        {{end}}
        {{ if or .Site.Params.homeIntroTitle .Site.Params.homeIntroContent }}
        <div class="intro">
            {{ with .Site.Params.homeIntroTitle }}
            <h1>{{ . }}</h1>
            {{ end }}

            {{ with .Site.Params.homeIntroContent }}
            <p>{{ . | markdownify }}</p>
            {{ end }}
        </div>
        {{ end }}

        {{/* Social Icons */}}

        {{ with site.Params.social }}
        <div class="social-icons">
            {{- range . }}
            <a href="{{ trim .url " " | safeURL }}" target="_blank"
                rel="noopener noreferrer me"
                title="{{ (.title | default .name) | title }}">
                {{ partial "svg.html" . }}
            </a>
            {{- end }}
        </div>
        {{ end }}
    </div>
</div>

{{/* Skills Section */}}
<h1>Skills</h1>
<div class="skills" style="
    padding: 10px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
">
    {{ range .Site.Taxonomies.tags }}
        <a href="{{ .Page.Permalink }}">#{{ .Page.Title }}</a>
    {{ end }}
</div>

{{ .Content }}

{{/* Collection Section */}}

{{ if .Site.Params.homeCollection }}

<div class="list-container">
    {{ with .Site.Params.homeCollectionTitle}}
    <h1> {{ . }} </h1>
    {{ end }}

    {{ $pages := where .Site.RegularPages "Section" .Site.Params.homeCollection
    }}

    {{ $paginationSize := 1}}
    {{ if (gt .Site.Params.paginationSize 0) }}
    {{ $paginationSize = .Site.Params.paginationSize }}
    {{ end }}

    {{ $paginator := .Paginate $pages $paginationSize }}

    {{ range $index, $page := $paginator.Pages }}
    {{ partial "post-entry.html" $page}}
    {{ end }}

    {{ partial "pagination-controls.html" $paginator}}

    {{ end }}
</div>

{{ end }}
